{"ast":null,"code":"import React,{useState,useCallback,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{useSocket}from\"../context/SocketProvider\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LobbyScreen=()=>{const[email,setEmail]=useState(\"\");const[room,setRoom]=useState(\"\");const socket=useSocket();const navigate=useNavigate();const handleSubmitForm=useCallback(e=>{console.log('data showing when lobby from submit');e.preventDefault();socket.emit(\"room:join\",{email,room});},[email,room,socket]);const handleJoinRoom=useCallback(data=>{console.log(data,'data showing when emit from backend');const{room}=data;navigate(`/room/${room}`);},[navigate]);useEffect(()=>{socket.on(\"room:join\",handleJoinRoom);return()=>{socket.off(\"room:join\",handleJoinRoom);};},[socket,handleJoinRoom]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Lobby\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmitForm,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",value:email,onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"room\",children:\"Room Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"room\",value:room,onChange:e=>setRoom(e.target.value)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{children:\"Join\"})]})]});};export default LobbyScreen;","map":{"version":3,"names":["React","useState","useCallback","useEffect","useNavigate","useSocket","jsx","_jsx","jsxs","_jsxs","LobbyScreen","email","setEmail","room","setRoom","socket","navigate","handleSubmitForm","e","console","log","preventDefault","emit","handleJoinRoom","data","on","off","children","onSubmit","htmlFor","type","id","value","onChange","target"],"sources":["/Users/md.golamrabbani/Desktop/web-rtc/React-webRTC/client/src/screens/Lobby.jsx"],"sourcesContent":["import React, { useState, useCallback, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useSocket } from \"../context/SocketProvider\";\n\nconst LobbyScreen = () => {\n  const [email, setEmail] = useState(\"\");\n  const [room, setRoom] = useState(\"\");\n\n  const socket = useSocket();\n  const navigate = useNavigate();\n\n  const handleSubmitForm = useCallback(\n    (e) => {\n      console.log('data showing when lobby from submit');\n      \n      e.preventDefault();\n      socket.emit(\"room:join\", { email, room });\n    },\n    [email, room, socket]\n  );\n\n  const handleJoinRoom = useCallback(\n    (data) => {\n      console.log(data, 'data showing when emit from backend');\n      \n      const { room } = data;\n      navigate(`/room/${room}`)\n    },\n    [navigate]\n  );\n\n  useEffect(() => {\n    socket.on(\"room:join\", handleJoinRoom);\n    return () => {\n      socket.off(\"room:join\", handleJoinRoom);\n    };\n  }, [socket, handleJoinRoom]);\n  return (\n    <div>\n      <h1>Lobby</h1>\n      <form onSubmit={handleSubmitForm}>\n        <label htmlFor=\"email\">Email ID</label>\n        <input\n          type=\"email\"\n          id=\"email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n        />\n        <br />\n        <label htmlFor=\"room\">Room Number</label>\n        <input\n          type=\"text\"\n          id=\"room\"\n          value={room}\n          onChange={(e) => setRoom(e.target.value)}\n        />\n        <br />\n        <button>Join</button>\n      </form>\n    </div>\n  );\n};\n\nexport default LobbyScreen;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,WAAW,CAAEC,SAAS,KAAQ,OAAO,CAC/D,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,SAAS,KAAQ,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtD,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACY,IAAI,CAAEC,OAAO,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAEpC,KAAM,CAAAc,MAAM,CAAGV,SAAS,CAAC,CAAC,CAC1B,KAAM,CAAAW,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAa,gBAAgB,CAAGf,WAAW,CACjCgB,CAAC,EAAK,CACLC,OAAO,CAACC,GAAG,CAAC,qCAAqC,CAAC,CAElDF,CAAC,CAACG,cAAc,CAAC,CAAC,CAClBN,MAAM,CAACO,IAAI,CAAC,WAAW,CAAE,CAAEX,KAAK,CAAEE,IAAK,CAAC,CAAC,CAC3C,CAAC,CACD,CAACF,KAAK,CAAEE,IAAI,CAAEE,MAAM,CACtB,CAAC,CAED,KAAM,CAAAQ,cAAc,CAAGrB,WAAW,CAC/BsB,IAAI,EAAK,CACRL,OAAO,CAACC,GAAG,CAACI,IAAI,CAAE,qCAAqC,CAAC,CAExD,KAAM,CAAEX,IAAK,CAAC,CAAGW,IAAI,CACrBR,QAAQ,CAAC,SAASH,IAAI,EAAE,CAAC,CAC3B,CAAC,CACD,CAACG,QAAQ,CACX,CAAC,CAEDb,SAAS,CAAC,IAAM,CACdY,MAAM,CAACU,EAAE,CAAC,WAAW,CAAEF,cAAc,CAAC,CACtC,MAAO,IAAM,CACXR,MAAM,CAACW,GAAG,CAAC,WAAW,CAAEH,cAAc,CAAC,CACzC,CAAC,CACH,CAAC,CAAE,CAACR,MAAM,CAAEQ,cAAc,CAAC,CAAC,CAC5B,mBACEd,KAAA,QAAAkB,QAAA,eACEpB,IAAA,OAAAoB,QAAA,CAAI,OAAK,CAAI,CAAC,cACdlB,KAAA,SAAMmB,QAAQ,CAAEX,gBAAiB,CAAAU,QAAA,eAC/BpB,IAAA,UAAOsB,OAAO,CAAC,OAAO,CAAAF,QAAA,CAAC,UAAQ,CAAO,CAAC,cACvCpB,IAAA,UACEuB,IAAI,CAAC,OAAO,CACZC,EAAE,CAAC,OAAO,CACVC,KAAK,CAAErB,KAAM,CACbsB,QAAQ,CAAGf,CAAC,EAAKN,QAAQ,CAACM,CAAC,CAACgB,MAAM,CAACF,KAAK,CAAE,CAC3C,CAAC,cACFzB,IAAA,QAAK,CAAC,cACNA,IAAA,UAAOsB,OAAO,CAAC,MAAM,CAAAF,QAAA,CAAC,aAAW,CAAO,CAAC,cACzCpB,IAAA,UACEuB,IAAI,CAAC,MAAM,CACXC,EAAE,CAAC,MAAM,CACTC,KAAK,CAAEnB,IAAK,CACZoB,QAAQ,CAAGf,CAAC,EAAKJ,OAAO,CAACI,CAAC,CAACgB,MAAM,CAACF,KAAK,CAAE,CAC1C,CAAC,cACFzB,IAAA,QAAK,CAAC,cACNA,IAAA,WAAAoB,QAAA,CAAQ,MAAI,CAAQ,CAAC,EACjB,CAAC,EACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAAjB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}